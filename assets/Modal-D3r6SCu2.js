import{d as y,k as h,a as p,b as _,e as n,l as f,i as k,j as g}from"./index-DJX9YQVj.js";const E=["id","aria-labelledby","aria-describedby"],x={class:"modal__content",role:"document"},$={class:"modal__header"},w=["id"],C=["id"],B=y({__name:"Modal",props:{id:{},open:{type:Boolean,default:!1}},emits:["close"],setup(l,{emit:m}){const b=l,o=k(null);let d=null;const s=m,r=()=>{if(!o.value)return[];const t=["a[href]","button:not([disabled])","textarea:not([disabled])",'input[type="text"]:not([disabled])','input[type="radio"]:not([disabled])','input[type="checkbox"]:not([disabled])',"select:not([disabled])",'[tabindex]:not([tabindex="-1"])'].join(",");return Array.from(o.value.querySelectorAll(t))},v=t=>{t.target===o.value&&s("close")},u=t=>{if(t.key!=="Tab")return;const e=r();if(e.length===0)return;const i=document.activeElement,a=e.indexOf(i);let c;t.shiftKey?c=a<=0?e.length-1:a-1:c=a>=e.length-1?0:a+1,t.preventDefault(),e[c]?.focus()};return h(()=>b.open,t=>{if(t&&o.value){d=document.activeElement,o.value.showModal(),document.body.style.overflow="hidden";const e=r();e.length>0&&e[0]?.focus(),o.value.addEventListener("keydown",u)}else o.value&&(o.value.removeEventListener("keydown",u),o.value.close(),document.body.style.overflow="",d instanceof HTMLElement&&d.focus())}),(t,e)=>(p(),_("dialog",{ref_key:"modal",ref:o,id:l.id,class:"modal","aria-modal":"true","aria-labelledby":`${l.id}-heading`,"aria-describedby":`${l.id}-description`,onCancel:e[1]||(e[1]=i=>s("close")),onClick:v},[n("div",x,[n("div",$,[n("h2",{id:`${l.id}-heading`},[f(t.$slots,"heading",{},void 0,!0)],8,w),n("button",{class:"modal__close",onClick:e[0]||(e[0]=i=>s("close")),"aria-label":"Close dialog"}," Ã— ")]),n("div",{class:"modal__body",id:`${l.id}-description`},[f(t.$slots,"default",{},void 0,!0)],8,C)])],40,E))}}),A=g(B,[["__scopeId","data-v-6a4b49ef"]]);export{A as default};
